---
title: "5.2 Lua虚拟机"
slug: "lua虚拟机"
hidden: false
createdAt: "2019-04-01T03:22:33.906Z"
updatedAt: "2019-07-13T14:50:15.502Z"
---
以比特币为代表的区块链1.0时代，区块链只是一个简单的分布式账本。技术进化到以以太坊为代表的区块链2.0时代之后，已经不简单是一个账本了，本质上是一个超级云计算机。其核心就是在底层链系统上增加了虚拟机，能执行智能合约程序。

虚拟机的存在本质上给链系统增加了一个可信的执行环境。开发者把开发好的程序，部署到链系统中，以交易的形式发起一个合约API的调用。

从基本的实现技术来讲，链系统的虚拟机，比如以太坊的EVM，跟我们传统的虚拟机，比如Java虚拟机，Python的虚拟机没有本质的差异。在Java虚拟机中，程序员用Java写程序，编译成字节码，直接在虚拟机上运行。

Cocos-BCX在设计的时候，考虑到游戏领域不少人对Lua脚本非常熟悉。所以，就直接用lua的虚拟机，这样对很多游戏程序员来说，就不用重新学习类似于以太坊Solidity语言，也不用像EOS那样用C++来写合约。直接用原来熟悉的Lua表达逻辑。大大降低入门门槛。

在植入Lua虚拟机的时候，Cocos-BCX对原有的Lua虚拟机进行了一些裁剪和接口的扩充。